<!doctype html><html lang="id"><head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Beli Asuransi Jiwa</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css"/>
</head><body>
  <header class="topbar">
    <div class="wrap">
      <a class="logo" href="index.html"><img src="assets/logo.svg" alt="" width="24" height="24"/><span>InsureHub</span></a>
      <nav class="nav"><a href="login.html">Log in</a><a class="pill" href="signup.html">Create account</a></nav>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <h2>Form Pembelian — Jiwa</h2>
      <form id="lifeForm">
        <div class="row">
          <div class="form-group"><div class="label">Tanggal Lahir</div><input class="input" type="date" name="dob" required></div>
          <div class="form-group"><div class="label">Pertanggungan</div>
            <select class="input" name="cov" required>
              <option value="">Pilih</option>
              <option>1000000000</option><option>2000000000</option>
              <option>3500000000</option><option>5000000000</option>
              <option>10000000000</option>
            </select>
          </div>
        </div>
        <hr/>
        <div class="kpi">Premi per bulan: <strong id="lifePremi">-</strong></div>
        <div class="actions" style="margin-top:12px">
          <button class="btn primary" type="submit">Lanjut Checkout</button>
          <a class="btn" href="product-life.html">Kembali</a>
        </div>
        <div id="lifeError" class="error" style="display:none"></div>
      </form>
    </div>
  </main>

  <footer class="site-footer"><div class="wrap small muted">© 2025</div></footer>
  <script src="app.js"></script>
  <script>
    const f=document.getElementById('lifeForm'), out=document.getElementById('lifePremi'), err=document.getElementById('lifeError');
    function recalc(){ const dob=f.dob.value, t=Number(f.cov.value||0); out.textContent=(dob&&t)?fmt.money(calc.lifeMonthly(dob,t)):'-'; }
    f.addEventListener('input', recalc);
    f.addEventListener('submit',(e)=>{
      e.preventDefault(); err.style.display='none';
      const dob=f.dob.value, t=Number(f.cov.value||0);
      if(!dob||!t){ err.textContent='Semua field wajib diisi.'; err.style.display='block'; return; }
      ls.set('checkout',{kind:'Jiwa',product:'LifeShield Prime',premium:calc.lifeMonthly(dob,t),meta:{dob,coverage:t}});
      location.href='checkout.html';
    });
  </script>
</body></html>
